---
title: Tables (Drag and Drop)
section: Components
---

<div class="alert alert-warning">This requires external javascript.</div>

<div class="clay-site-row-spacer row">
	<div class="col-md-12">
		<h3>Table List Table Drag</h3>

		<blockquote class="blockquote">
			<p>Add the class `table-drag` to the `table` element.</p>
			<p>Add the class `c-drag` to any column `th` or `td` that should be able to start the drag. This adds `cursor: move`.</p>
			<div class="p">
				On `mousedown`:
				<ol>
					<li>Add `table-dragging` to `table-drag`</li>
					<li>Add `c-dragging` to all `th` and `td` inside the column being dragged</li>
					<li>Add `c-droppable` to all `th` and `td` inside columns that can be dropped into</li>
					<li>Clicking links inside `th` in tables that are sortable should not trigger the drag</li>
					<li>Copy the contents of the table column and add the table's classes + `table-clone` class to the `table`</li>
				</ol>
			</div>
			<div class="p">
				On `mousemove`:
				<ol>
					<li>`table-responsive` should scroll left and right while dragging if there is overflow</li>
				</ol>
			</div>
			<div class="p">
				On `mouseup`:
				<ol>
					<li>Remove `table-dragging` from `table-drag`</li>
					<li>Remove `c-dragging` on all `th` and `td`</li>
					<li>Remove class `c-droppable` in all `th` and `td` or leave it</li>
				</ol>
			</div>
		</blockquote>

		<div class="table-responsive">
			<table class="table table-drag">
				<thead>
					<tr>
						<th>Not Draggable</th>
						<th class="c-drag">Purchasing Power Parity</th>
						<th class="c-drag">Official Exchange Rate</th>
						<th class="c-drag">Real Growth Rate</th>
						<th class="c-drag">Household Consumption</th>
						<th class="c-drag">Government Consumption</th>
						<th class="c-drag">Fixed Capital Investment</th>
						<th class="c-drag">Inventories Investment</th>
						<th>Exports</th>
						<th>Imports</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<div class="table-title">
								<a href="#1">Afganistan</a>
							</div>
						</td>
						<td class="c-drag">$45.3 billion</td>
						<td>$20.65 billion</td>
						<td>3.1%</td>
						<td>96.5%</td>
						<td>23.3%</td>
						<td>25.4%</td>
						<td>0%</td>
						<td>18.1%</td>
						<td>-63.4%</td>
					</tr>
					<tr>
						<td>
							<div class="table-title">
								<a href="#1">Brazil</a>
							</div>
						</td>
						<td class="c-drag">$2.416 trillion</td>
						<td>$2.19 trillion</td>
						<td>2.3%</td>
						<td>62.5%</td>
						<td>21.7%</td>
						<td>18.3%</td>
						<td>0%</td>
						<td>12.4%</td>
						<td>-14.9%</td>
					</tr>
					<tr>
						<td>
							<div class="table-title">
								<a href="#1">Congo, Democratic Republic of the</a>
							</div>
						</td>
						<td class="c-drag">$29.39 billion</td>
						<td>$18.56 billion</td>
						<td>6.2%</td>
						<td>65.9%</td>
						<td>12.5%</td>
						<td>27.9%</td>
						<td>1%</td>
						<td>49.9%</td>
						<td>-56.3%</td>
					</tr>
					<tr>
						<td>
							<div class="table-title">
								<a href="#1">Spain</a>
							</div>
						</td>
						<td class="c-drag">$1.389 trillion</td>
						<td>$1.356 trillion</td>
						<td>-1.3%</td>
						<td>59%</td>
						<td>19.9%</td>
						<td>18.4%</td>
						<td>0.4%</td>
						<td>32.8%</td>
						<td>-30.4%</td>
					</tr>
				</tbody>
			</table>
		</div>

	</div>
</div>

<div class="clay-site-row-spacer row">
	<div class="col-md-12">

		<h3>Table List with Links Inside TH</h3>

		<blockquote class="blockquote">
			<p>The designs showing the drag icon makes no sense, probably best not to include it until we get clarification from Lexicon Team. See <a href="https://projects.invisionapp.com/share/VMNV3EWHJWZ#/screens/317962354">https://projects.invisionapp.com/share/VMNV3EWHJWZ#/screens/317962354</a> for why it makes no sense.</p>
		</blockquote>

<div class="table-responsive">
	<table class="show-quick-actions-on-hover table table-autofit table-drag table-list table-nowrap">
		<thead>
			<tr>
				<th class="c-drag">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span>
				</th>
				<th class="c-drag table-head-title">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><a class="inline-item text-truncate-inline" href="#1">
					<span class="text-truncate" title="ID">ID</span>
						<span class="inline-item inline-item-after">
							<svg class="lexicon-icon lexicon-icon-order-arrow-down" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#order-arrow-down" />
							</svg>
						</span>
					</a>
				</th>
				<th class="c-drag table-cell-expand table-head-title">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><a class="inline-item text-truncate-inline" href="#1">
						<span class="text-truncate" title="Title">Title</span><span class="inline-item inline-item-after">
							<svg class="lexicon-icon lexicon-icon-order-arrow-down" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#order-arrow-down" />
							</svg>
						</span>
					</a>
				</th>
				<th class="c-drag">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><span class="inline-item">Status</span>
				</th>
				<th class="c-drag table-head-title">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><span class="inline-item text-truncate-inline">
						<span class="text-truncate" title="Modified Date">Modified Date</span>
					</span>
				</th>
				<th class="c-drag">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><span class="inline-item">Display Date</span>
				</th>
				<th class="c-drag table-head-title">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><a class="inline-item text-truncate-inline" href="#1">
						<span class="text-truncate" title="Author">Author</span><span class="inline-item inline-item-after">
							<svg class="lexicon-icon lexicon-icon-order-arrow-up" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#order-arrow-up" />
							</svg>
						</span>
					</a>
				</th>
				<th class="c-drag">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span><span class="inline-item">Type</span>
				</th>
				<th class="c-drag">
					<span class="inline-item inline-item-before">
						<svg class="lexicon-icon lexicon-icon-drag" focusable="false" role="presentation">
							<use xlink:href="{{rootPath}}/images/icons/icons.svg#drag" />
						</svg>
					</span>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr class="table-divider">
				<td colspan="9">Group 1</td>
			</tr>
			<tr>
				<td>
					<div class="custom-control custom-checkbox">
						<label>
							<input class="custom-control-input" type="checkbox">
							<span class="custom-control-label"></span>
						</label>
					</div>
				</td>
				<td>21146</td>
				<td class="table-cell-expand">
					<div class="table-list-title">
						.table-list-title (not a link)
					</div>
					<div class="table-list-title">
						<a href="#1">.table-list-title a</a>
					</div>
					<div><a class="table-list-link" href="#1">.table-list-link</a></div>
					<div><a href="#1">link</a></div>
					<div>Some regular text</div>
				</td>
				<td>--</td>
				<td>2 Hours Ago</td>
				<td>--</td>
				<td>Stanley Nelson</td>
				<td>Folder</td>
				<td>
					<div class="quick-action-menu">
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-trash" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#trash" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-download" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#download" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-expand" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#expand" />
							</svg>
						</a>
					</div>
					<div class="dropdown dropdown-action">
						<a aria-expanded="false" aria-haspopup="true" class="component-action dropdown-toggle" data-toggle="dropdown" href="#1" id="dropdownAction1" role="button">
							<svg class="lexicon-icon lexicon-icon-ellipsis-v" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#ellipsis-v" />
							</svg>
						</a>
						<ul aria-labelledby="" class="dropdown-menu dropdown-menu-right">
							<li><a class="dropdown-item" href="#1" role="button">Remove</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Download</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Checkout</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tr class="table-active">
				<td>
					<div class="custom-control custom-checkbox">
						<label>
							<input checked class="custom-control-input" type="checkbox">
							<span class="custom-control-label"></span>
						</label>
					</div>
				</td>
				<td>
					21148
				</td>
				<td class="table-cell-expand">
					<div class="table-list-title">
						<a class="text-truncate-inline" href="#1">
							<span class="text-truncate" title="Wings eu, pumpkin spice robusta, kopi-luwak mocha caffeine froth grounds.">Wings eu, pumpkin spice robusta, kopi-luwak mocha caffeine froth grounds.</span>
						</a>
					</div>
				</td>
				<td>--</td>
				<td>2 Hours Ago</td>
				<td>--</td>
				<td>Stanley Nelson</td>
				<td>Folder</td>
				<td>
					<div class="quick-action-menu">
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-trash" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#trash" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-download" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#download" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-expand" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#expand" />
							</svg>
						</a>
					</div>
					<div class="dropdown dropdown-action">
						<a aria-expanded="false" aria-haspopup="true" class="component-action dropdown-toggle" data-toggle="dropdown" href="#1" id="dropdownAction1" role="button">
							<svg class="lexicon-icon lexicon-icon-ellipsis-v" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#ellipsis-v" />
							</svg>
						</a>
						<ul aria-labelledby="" class="dropdown-menu dropdown-menu-right">
							<li><a class="dropdown-item" href="#1" role="button">Remove</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Download</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Checkout</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="custom-control custom-checkbox">
						<label>
							<input class="custom-control-input" type="checkbox">
							<span class="custom-control-label"></span>
						</label>
					</div>
				</td>
				<td>21149</td>
				<td class="table-cell-expand">
					<div class="table-list-title">
						<span class="text-truncate-inline">
							<span class="text-truncate" title="Cultivar extra">Cultivar extra</span>
						</span>
					</div>
				</td>
				<td>--</td>
				<td>2 Hours Ago</td>
				<td>--</td>
				<td>Stanley Nelson</td>
				<td>Folder</td>
				<td>
					<div class="quick-action-menu">
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-trash" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#trash" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-download" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#download" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-expand" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#expand" />
							</svg>
						</a>
					</div>
					<div class="dropdown dropdown-action">
						<a aria-expanded="false" aria-haspopup="true" class="component-action dropdown-toggle" data-toggle="dropdown" href="#1" id="dropdownAction1" role="button">
							<svg class="lexicon-icon lexicon-icon-ellipsis-v" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#ellipsis-v" />
							</svg>
						</a>
						<ul aria-labelledby="" class="dropdown-menu dropdown-menu-right">
							<li><a class="dropdown-item" href="#1" role="button">Remove</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Download</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Checkout</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="custom-control custom-checkbox">
						<label>
							<input class="custom-control-input" type="checkbox">
							<span class="custom-control-label"></span>
						</label>
					</div>
				</td>
				<td>21150</td>
				<td class="table-cell-expand">
					<div class="table-list-title">
						<span class="text-truncate-inline">
							<span class="text-truncate" title="Cultivar extra">Cultivar extra</span>
						</span>
					</div>
				</td>
				<td>--</td>
				<td>2 Hours Ago</td>
				<td>--</td>
				<td>Stanley Nelson</td>
				<td>Folder</td>
				<td>
					<div class="quick-action-menu">
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-trash" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#trash" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-download" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#download" />
							</svg>
						</a>
						<a class="component-action quick-action-item" href="#1" role="button">
							<svg class="lexicon-icon lexicon-icon-expand" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#expand" />
							</svg>
						</a>
					</div>
					<div class="dropdown dropdown-action">
						<a aria-expanded="false" aria-haspopup="true" class="component-action dropdown-toggle" data-toggle="dropdown" href="#1" id="dropdownAction1" role="button">
							<svg class="lexicon-icon lexicon-icon-ellipsis-v" focusable="false" role="presentation">
								<use xlink:href="{{rootPath}}/images/icons/icons.svg#ellipsis-v" />
							</svg>
						</a>
						<ul aria-labelledby="" class="dropdown-menu dropdown-menu-right">
							<li><a class="dropdown-item" href="#1" role="button">Remove</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Download</a></li>
							<li><a class="dropdown-item" href="#1" role="button">Checkout</a></li>
						</ul>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>

	</div>
</div>

<script>
var tableColumnDimensions = {};

$(document).on('mousedown', '.c-drag', function(event) {
	var target = $(event.target);

	var excludeEl = target.closest('a').length || target.closest('button').length;

	if (event.which === 1 && !excludeEl) {
		var itemIndex = $(this).closest('tr').find('td').length === 0 ?
			$(this).closest('tr').find('th').index($(this)) :
			$(this).closest('tr').find('td').index($(this));
		var table = $(this).closest('table');
		var tableRows = table.find('tr');

		var droppableColumns = findDroppableColumns(table);

		tableColumnDimensions.x = event.pageX;
		tableColumnDimensions.y = table.offset().top;
		tableColumnDimensions.rowHeights = [];
		tableColumnDimensions.width = $(this).outerWidth();

		tableRows.each(function(index) {
			var el = $(this).find('td').length === 0 ? $(this).find('th') : $(this).find('td');

			tableColumnDimensions.rowHeights.push(el.outerHeight());

			toggleDragging(el, itemIndex);

			for (var i = 0; i < droppableColumns.length; i++) {
				el.eq(droppableColumns[i]).addClass('c-droppable');
			}
		});

		var tableClone = $(cloneColumn(table, tableRows.length));

		$(document).on('mousemove.clay-drag', function(event) {
			var left;
			var tableResponsive = table.closest('.table-responsive');
			var tableResponsiveWidth = tableResponsive.outerWidth();
			var tableResponsivePosX = tableResponsive.offset().left;

			tableColumnDimensions.xStopStart = tableResponsivePosX;
			tableColumnDimensions.xStopEnd = tableResponsiveWidth + tableResponsivePosX - tableColumnDimensions.width;

			if (event.pageX >= tableColumnDimensions.xStopEnd) {
				left = tableColumnDimensions.xStopEnd + 'px';

				tableResponsive.scrollLeft(tableResponsive.scrollLeft() + 5);

				if (tableResponsive.scrollLeft() === table.outerWidth() - tableResponsiveWidth) {
					left = event.pageX + 'px';
				}
			}
			else if (event.pageX <= tableColumnDimensions.xStopStart) {
				left = tableColumnDimensions.xStopStart + 'px';

				tableResponsive.scrollLeft(tableResponsive.scrollLeft() - 5);
			}
			else {
				left = event.pageX + 'px';
			}

			tableClone.css({
				left: left,
			});
		});

		$(document).on('mouseup.clay-drag', function(event) {
			table.removeClass('table-dragging');

			$('.table-clone').remove();

			table.find('.c-droppable').removeClass('c-droppable');

			tableRows.each(function(index) {
				toggleDragging($(this).find('th'), itemIndex);
				toggleDragging($(this).find('td'), itemIndex);
			});

			$(document).off('mouseup.clay-drag');
			$(document).off('mousemove.clay-drag');
		});
	}
});

function cloneColumn(table, rows) {
	var _TABLE = document.createElement('table');
	var _THEAD = document.createElement('thead');
	var _TBODY = document.createElement('tbody');

	_TABLE.className = table.attr('class') + ' table-clone';
	_TABLE.style.left = tableColumnDimensions.x + 'px';
	_TABLE.style.top = tableColumnDimensions.y + 'px';
	_TABLE.style.width = tableColumnDimensions.width + 'px';

	table.addClass('table-dragging');

	_TABLE.appendChild(_THEAD);
	_TABLE.appendChild(_TBODY);

	for (var i = 0; i < rows; i++ ) {
		var _TR = document.createElement('tr');
		var _TH = document.createElement('th');
		var _TD = document.createElement('td');

		if (i === 0) {
			_TH.style.height = tableColumnDimensions.rowHeights[i] + 'px';

			_TR.appendChild(_TH);
			_THEAD.appendChild(_TR);
		} else {
			_TD.style.height = tableColumnDimensions.rowHeights[i] + 'px';

			_TR.appendChild(_TD);
			_TBODY.appendChild(_TR);
		}
	}

	document.body.append(_TABLE);

	return _TABLE;
}

function findDroppableColumns(table) {
	var indexes = [];

	table.find('.c-drag').each(function(index) {
		indexes.push($(this).index());
	});

	return indexes;
}

function toggleDragging(els, index) {
	var el = els.eq(index);
	var toggle = el.hasClass('c-dragging') ;

	el.toggleClass('c-dragging', !toggle);

	return el;
}
</script>
