////
/// @group modals
////

/// A mixin to create a Modal color variant. This is used in `.modal-danger`, `.modal-info`, `.modal-success`, and `.modal-warning`.
/// @param {Map} $map - A map of `key: value` pairs. The keys and value types are listed below:
/// @example
/// enabled: {Bool}, // Set to false to prevent mixin styles from being output. Default: true
/// header: {Map | Null}, // See Mixin `clay-css` for available keys
/// header-close: {Map | Null}, // See Mixin `clay-close` for available keys
/// body: {Map | Null}, // See Mixin `clay-css` for available keys
/// footer: {Map | Null}, // See Mixin `clay-css` for available keys
/// -=-=-=-=-=- Deprecated -=-=-=-=-=-
/// header-bg: {Color | String | Null}, // deprecated after 3.9.0
/// header-border-color: {Color | String | List | Null}, // deprecated after 3.9.0
/// header-color: {Color | String | Null}, // deprecated after 3.9.0
/// header-close-color: {Color | String}, // deprecated in v2.0.0-rc.12
/// body-bg: {Color | String | Null}, // deprecated after 3.9.0
/// body-color: {Color | String | Null}, // deprecated after 3.9.0
/// footer-bg: {Color | String | Null}, // deprecated after 3.9.0
/// footer-border-color: {Color | String | List | Null}, // deprecated after 3.9.0

@mixin clay-modal-variant($map) {
	$enabled: setter(map-get($map, enabled), true);

	$header: setter(map-get($map, header), ());
	$header: map-merge(
		(
			background-color: map-get($map, header-bg),
			border-color: map-get($map, header-border-color),
			color: map-get($map, header-color),
		),
		$header
	);

	$header-close: setter(map-get($map, header-close), ());
	$header-close: map-merge(
		(
			color: map-get($map, header-close-color),
		),
		$header-close
	);

	$body: setter(map-get($map, body), ());
	$body: map-merge(
		(
			background-color: map-get($map, body-bg),
			color: map-get($map, body-color),
		),
		$body
	);

	$footer: setter(map-get($map, footer), ());
	$footer: map-merge(
		(
			background-color: map-get($map, footer-bg),
			border-color: map-get($map, footer-border-color),
		),
		$footer
	);

	@if ($enabled) {
		@include clay-css($map);

		// Modal specific btn-monospaced is deprecated in v2.0.0-rc.12

		.btn-monospaced {
			color: map-get($header-close, color);
		}

		.close {
			@include clay-close($header-close);
		}

		button.close {
			&:focus {
				box-shadow: map-get($header-close, btn-focus-box-shadow);
				outline: map-get($header-close, btn-focus-outline);
			}
		}

		.modal-header {
			@include clay-css($header);
		}

		.modal-body {
			@include clay-css($body);
		}

		.modal-footer {
			@include clay-css($footer);
		}
	}
}
