/// A Bootstrap 4 mixin that outputs a transition if `$enable-transition` is `true`. This also outputs the `prefers-reduced-motion` media query if `$enable-prefers-reduced-motion-media-query` is `true`.
/// @param {Arglist} $transition...

@mixin transition($transition...) {
	$enable: if(
		variable-exists(enable-transitions),
		$enable-transitions,
		if
			(
				variable-exists(cadmin-enable-transitions),
				$cadmin-enable-transitions,
				true
			)
	);

	$reduced-motion-media-query: if(
		variable-exists(enable-prefers-reduced-motion-media-query),
		$enable-prefers-reduced-motion-media-query,
		if
			(
				variable-exists(
					cadmin-enable-prefers-reduced-motion-media-query
				),
				$cadmin-enable-prefers-reduced-motion-media-query,
				false
			)
	);

	@if ($enable) {
		@if length($transition) == 0 {
			transition: $transition-base;
		} @else {
			transition: $transition;
		}
	}

	@if ($reduced-motion-media-query) {
		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}
}
