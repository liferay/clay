# How are clayui.com pages created

This documents how Clay's page creation works. We'll be looking at three key files: `createPages.js`, `docs.js`, and `onCreateNode.js`
To create our markdown (or MDX) pages, we need to use two Gatsby APIs: `onCreateNode` and `createPages`. These are two workhorse APIs youâ€™ll see used in many sites and plugins.

Suggested links to check out when trying to understand this topic:

-   [Programmatically create pages from data](https://www.gatsbyjs.com/tutorial/part-seven/)
-   [Project structure](https://www.gatsbyjs.com/docs/gatsby-project-structure/)
-   [Gatsby concepts](https://www.gatsbyjs.com/docs/graphql-concepts/)
-   [Gatsby Lifecycle APIs](https://www.gatsbyjs.com/docs/gatsby-lifecycle-apis/)

## `createPages.js`

This file goes through all of the data retrieved by our GraphQL query which gets massaged by `onCreateNode.js` and applies our templates (`docsTemplate` and `blogTemplate`) that can be found in `docs.js` and `blogs.js`

Which template gets used depends on the `slug` of the page this file is trying to create.

## `onCreateNode.js`

This file gets called for each page (node) inside `createPages.js` gathering all the information GraphQL retrieves and massaging it so it's ready for consumation by Clay. A part of that is using `createNodeField` which is a method inside Gatsby's `

## `docs.js`

This file is used for consuming the content of the pages generated by `createPages.js`. It's called whenever we create a new page.

Important information to keep in mind when altering is that `allMarkdownRemark` field is used to retrieve `.md` files, and `allMdx` field is used to retrieve `.mdx` files.

This is the file where we make changes to any DOM, and structure of our component documenation.

## `blogs.js`

This file is very similar to `docs.js` except that it's used to define how our blogs look like.

## Common pitfalls when developing for clayui.com

### Persistent caching

Gatsby has persistent caching, which means that when you make changes to these key files above,
or when you don't see changes you are making you need to delete the `clayui/.cache` folder and restart the server.
