// Basic Search

.basic-search {
	float: right;
	max-width: none;
	padding: $navbar-form-padding-vertical $navbar-form-padding-horizontal;

	@include media-breakpoint-up(md) {
		max-width: 220px;
	}

	&.open {
		z-index: 10;
	}

	.form-control {
		float: right;
		width: 100%;
	}

	.input-group-input {
		.basic-search-slider .form-control {
			border-bottom-right-radius: 0;
			border-top-right-radius: 0;
		}

		.form-control {
			border-bottom-left-radius: $input-border-radius;
			border-top-left-radius: $input-border-radius;
		}
	}
}

.basic-search-slider {
	left: 101%;
	position: relative;

	@include media-breakpoint-up(md) {
		left: 0;
	}

	.basic-search-close {
		border-bottom-right-radius: 0;
		border-top-right-radius: 0;
		left: 0;
		position: absolute;
		z-index: $zindex-basic-search-close;

		@include media-breakpoint-up(md) {
			display: none;
			line-height: normal;
		}

		&:focus {
			border-color: $input-border-color-focus;
			outline: none;
		}

		.basic-search.focus & {
			@if not (variable-exists(atlas-theme)) {
				border-right-color: $input-border-color-focus;
			}
		}
	}

	.basic-search.open & {
		left: 0;
	}
}

.basic-search {
	.input-group-input {
		text-align: right;

		.form-control {
			min-width: 100px;
		}
	}
}

.basic-search-autofit {
	float: none;
	max-width: none;
}

.basic-search-transition {
	&:after {
		transition: all 0.1s ease;
	}

	.basic-search-slider {
		transition: left 0.5s ease, right 0.5s ease;
	}
}

// Collapse Basic Search

.collapse-basic-search {
	position: relative;

	@include media-breakpoint-up(md) {
		&.navbar-no-collapse {
			.navbar-nav:first-child {
				float: left;
			}
		}

		.basic-search-autofit {
			float: none;
			max-width: none;
		}
	}

	.basic-search {
		display: block;
		left: 0;
		margin: 0;
		position: absolute;
		right: 0;
		top: 0;

		@include media-breakpoint-up(md) {
			@if (variable-exists(atlas-theme)) {
				margin-right: 12px;
			}

			position: static;
		}

		&.basic-search-transition,
		&.open {
			.input-group-input {
				visibility: visible;
			}
		}

		&.open .basic-search-close {
			@include media-breakpoint-up(md) {
				display: none;
			}
		}

		&.basic-search-transition .input-group-btn .btn:first-child,
		&.open .input-group-btn .btn:first-child {
			@include media-breakpoint-down(sm) {
				border-bottom-left-radius: 0;
				border-top-left-radius: 0;
			}
		}

		.input-group-btn .btn:first-child {
			@include media-breakpoint-down(sm) {
				border-bottom-left-radius: $btn-border-radius;
				border-top-left-radius: $btn-border-radius;
			}
		}

		.input-group-input {
			overflow: hidden;
			visibility: hidden;

			@include media-breakpoint-up(md) {
				overflow: visible;
				visibility: visible;
			}

			.form-control {
				@include media-breakpoint-up(md) {
					left: auto;
				}
			}
		}

		.form-control {
			padding-left: 47px;

			@include media-breakpoint-up(md) {
				padding-left: 5px;
			}
		}
	}

	.navbar-nav:first-child {
		float: none;

		@include media-breakpoint-up(md) {
			float: left;
		}
	}

	.navbar-nav > li > a,
	.navbar-toggle {
		z-index: 1;
	}
}

// Navbar Basic Search

@if (variable-exists(atlas-theme)) {
	.navbar .basic-search {
		&:after {
			background-color: $input-border-color;
			content: '';
			display: block;
			height: 0;
			overflow: hidden;
			position: relative;
			top: $navbar-border-bottom-width;
			z-index: $zindex-basic-search-close;
		}

		&.focus:after {
			background-color: $input-border-color-focus;

			@include media-breakpoint-up(md) {
				height: $navbar-active-border-bottom-width;
				margin-top: -$navbar-active-border-bottom-width;
			}
		}

		&.open {
			&:after {
				height: $navbar-active-border-bottom-width;
				margin-top: -$navbar-active-border-bottom-width;

				@include media-breakpoint-up(md) {
					background-color: transparent;
				}
			}

			&.focus:after {
				@include media-breakpoint-up(md) {
					background-color: $input-border-color-focus;
				}
			}
		}
	}

	.navbar.collapse-basic-search .basic-search {
		padding: 0;

		.btn-default {
			background-color: $body-bg;
			border-radius: 0;
			border-width: 0;
			color: $brand-secondary;
			height: $navbar-height - $navbar-border-bottom-width - $navbar-border-top-width;
			padding-left: 12px;
			padding-right: 12px;

			@include media-breakpoint-up(md) {
				height: $navbar-height-desktop - $navbar-border-bottom-width - $navbar-border-top-width;
			}

			&:focus {
				color: $brand-primary;
				outline: none;
			}
		}

		.form-control {
			background-color: $body-bg;
			border-width: 0;
			height: $navbar-height - $navbar-border-bottom-width - $navbar-border-top-width;

			@include media-breakpoint-up(md) {
				height: $navbar-height-desktop - $navbar-border-bottom-width - $navbar-border-top-width;
			}

			@include media-breakpoint-down(sm) {
				padding-left: 45px;
			}
		}

		.input-group-btn {
			padding-right: 12px;

			@include media-breakpoint-up(md) {
				padding-right: 0;
			}
		}
	}

	.navbar .basic-search-close {
		height: $navbar-height;
	}
}

// Navbar

// .navbar {
// 	.container-fluid-1280 {
// 		padding-left: 0;
// 		padding-right: 0;
// 	}

// 	.nav-tabs {
// 		border-width: 0;

// 		> li > a {
// 			&,
// 			&:focus,
// 			&:hover {
// 				border-radius: 0;
// 				border-width: 0;
// 				margin-right: 0;
// 			}
// 		}
// 	}
// }

// @if (variable-exists(atlas-theme)) {
// 	.navbar {
// 		border-width: $navbar-border-width;
// 		margin-bottom: 0;
// 		min-height: $navbar-height;

// 		@include media-breakpoint-up(md) {
// 			min-height: $navbar-desktop-height;
// 		}
// 	}

// 	.navbar-nav {
// 		> .active > a {
// 			&:after {
// 				@include media-breakpoint-up(md) {
// 					background-color: $navbar-link-active-highlight;
// 					bottom: -$navbar-border-bottom-width;

// 					@if not ($navbar-link-active-highlight == transparent) {
// 						content: '';
// 					}

// 					display: block;
// 					height: $navbar-link-active-border-bottom-width;
// 					left: $navbar-link-padding-x-desktop;
// 					position: absolute;
// 					right: $navbar-link-padding-x-desktop;
// 					width: auto;
// 				}
// 			}
// 		}
// 	}

// 	.navbar-no-collapse .navbar-nav {
// 		> .active > a {
// 			&:after {
// 				background-color: $navbar-link-active-highlight;
// 				bottom: -$navbar-border-bottom-width;

// 				@if not ($navbar-link-active-highlight == transparent) {
// 					content: '';
// 				}

// 				display: block;
// 				height: $navbar-link-active-border-bottom-width;
// 				left: $navbar-link-padding-x-desktop;
// 				position: absolute;
// 				right: $navbar-link-padding-x-desktop;
// 				width: auto;
// 			}
// 		}
// 	}
// }

// Navbar Collapse

// .navbar-collapse {
// 	@if (variable-exists(atlas-theme)) {
// 		@include media-breakpoint-up(md) {
// 			padding-left: 0;
// 			padding-right: 0;
// 		}
// 	}
// }

// .navbar-collapse-left {
// 	@include media-breakpoint-up(md) {
// 		float: left;
// 	}
// }

// .navbar .navbar-collapse:first-child,
// .navbar-collapse-absolute .navbar-collapse {
// 	@include media-breakpoint-down(sm) {
// 		background-color: $dropdown-bg;
// 		border-color: transparent;
// 		border-style: solid;
// 		border-width: 0 1px 1px 1px;

// 		@if (variable-exists(navbar-collapse-absolute-box-shadow)) {
// 			box-shadow: $navbar-collapse-absolute-box-shadow;
// 		}

// 		left: -$navbar-border-left-width;
// 		margin-top: 1px;
// 		position: absolute;
// 		right: -$navbar-border-right-width;
// 		top: 100%;
// 		z-index: $zindex-dropdown;
// 	}
// }

// Navbar No Collapse

// .navbar-no-collapse .navbar-nav {
// 	float: left;

// 	@if (variable-exists(atlas-theme)) {
// 		margin: 0;
// 	}
// 	@else {
// 		margin: 0 $navbar-padding-x;
// 	}

// 	> li {
// 		float: left;
// 	}

// 	.dropdown-menu {
// 		background-color: $dropdown-bg;
// 		border: 1px solid $dropdown-border-color;
// 		box-shadow: $dropdown-box-shadow;
// 		position: absolute;
// 	}

// 	.open .dropdown-menu {
// 		> li > a {
// 			@include media-breakpoint-down(sm) {
// 				color: $dropdown-link-color;
// 				padding: $dropdown-link-padding;

// 				&:focus,
// 				&:hover {
// 					background-color: $dropdown-link-hover-bg;
// 					color: $dropdown-link-hover-color;
// 				}
// 			}
// 		}

// 		.divider {
// 			@include media-breakpoint-down(sm) {
// 				@include nav-divider($dropdown-divider-bg);
// 			}
// 		}

// 		.dropdown-header {
// 			padding: $dropdown-link-padding;
// 		}
// 	}
// }

// Navbar Form

// .navbar-form {
// 	padding: $navbar-form-padding-vertical $navbar-form-padding-horizontal;

// 	@include media-breakpoint-up(md) {
// 		margin: 0;

// 		@if (variable-exists(atlas-theme)) {
// 			padding-bottom: ($navbar-desktop-height - $input-height - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
// 			padding-top: ($navbar-desktop-height - $input-height - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
// 		}
// 	}
// }

// Navbar Header

// .navbar-header .input-group-input .form-control {
// 	@include media-breakpoint-up(md) {
// 		max-width: none;
// 		min-width: 0;
// 	}
// }

// .navbar-header-left-xs {
// 	@include media-breakpoint-down(sm) {
// 		float: left;
// 	}
// }

// .navbar-header-right-xs {
// 	@include media-breakpoint-down(sm) {
// 		float: right;
// 	}
// }

// .navbar-header-right {
// 	@include media-breakpoint-up(md) {
// 		float: right;
// 	}
// }

// Navbar Nav

.navbar-nav {
	// @include media-breakpoint-up(md) {
	// 	margin-right: $navbar-padding-x;
	// }

	// &.navbar-right {
	// 	@include media-breakpoint-up(md) {
	// 		margin-left: $navbar-padding-x;
	// 		margin-right: 0;
	// 	}

	// 	&:last-child {
	// 		@include media-breakpoint-up(md) {
	// 			margin-right: 0;
	// 		}
	// 	}
	// }

	> li > a {
		// @if (variable-exists(atlas-theme)) {
		// 	line-height: $navbar-link-line-height;
		// 	padding-bottom: $navbar-padding-y;
		// 	padding-top: $navbar-padding-y;

		// 	@include media-breakpoint-up(md) {
		// 		line-height: $navbar-desktop-link-line-height;
		// 		padding: $navbar-link-padding-y-desktop $navbar-link-padding-x-desktop;
		// 	}
		// }
		// @else {
		// 	padding-bottom: ($navbar-height - 1.25rem - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
		// 	padding-top: ($navbar-height - 1.25rem - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
		// }
	}
}

// Navbar Dropdowns

// @if (variable-exists(atlas-theme)) {
// 	.navbar-nav {
// 		@include media-breakpoint-down(sm) {
// 			.dropdown-menu {
// 				max-width: none;
// 			}

// 			.open .dropdown-menu {
// 				padding: 0;

// 				> li > a,
// 				.dropdown-header {
// 					padding: $navbar-padding-y $navbar-padding-x;
// 				}

// 				.inline-scroller,
// 				.linked-list {
// 					li a {
// 						padding: $navbar-padding-y $navbar-padding-x;

// 						&:focus,
// 						&:hover {
// 							color: $navbar-light-active-color;
// 						}
// 					}
// 				}
// 			}
// 		}
// 	}
// }

// Navbar Brand

.navbar-brand {
	// height: auto;

	// @if (variable-exists(atlas-theme)) {
	// 	color: $nav-link-color;
	// 	line-height: $navbar-link-line-height;

	// 	@include media-breakpoint-up(md) {
	// 		line-height: $navbar-desktop-link-line-height;
	// 		padding: $navbar-link-padding-y-desktop $navbar-link-padding-x-desktop;
	// 	}
	// }
	// @else {
	// 	padding-bottom: ($navbar-height - 1.25rem - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
	// 	padding-top: ($navbar-height - 1.25rem - $navbar-border-bottom-width - $navbar-border-top-width) / 2;
	// }

	// &:focus {
	// 	position: relative;
	// 	z-index: 1;
	// }
}

// Navbar Toggles

// .navbar-toggle {
// 	height: $navbar-toggle-height;
// 	margin-left: $navbar-padding-x;
// 	padding-bottom: 0;
// 	padding-top: 0;

// 	&:focus {
// 		outline: thin dotted;
// 		outline: 5px auto -webkit-focus-ring-color;
// 		outline-offset: -2px;
// 	}

// 	.icon-bar {
// 		background-color: $navbar-toggle-icon-bar-color;

// 		@if (variable-exists(navbar-toggle-icon-bar-width)) {
// 			width: $navbar-toggle-icon-bar-width;
// 		}
// 	}
// }

.navbar-toggle-left {
	float: left;
}

.navbar-toggle-page-name {
	@if (variable-exists(atlas-theme)) {
		border-radius: $navbar-border-radius;
		border-width: 0;
		height: $navbar-height - $navbar-border-bottom-width - $navbar-border-top-width;
		margin: 0;
		padding-left: $navbar-padding-x;
		padding-right: $navbar-padding-x;

		&:after {
			background-color: $navbar-active-highlight;
			bottom: -$navbar-border-bottom-width;

			@if not ($navbar-active-highlight == transparent) {
				content: '';
			}

			display: block;
			height: $navbar-active-border-bottom-width;
			left: $navbar-padding-x;
			position: absolute;
			right: $navbar-padding-x;
		}
	}
}

// Skin

// .navbar-default {
// 	@if (variable-exists(atlas-theme)) {
// 		border-width: $navbar-default-border-width;
// 		min-height: $navbar-default-height;

// 		@include media-breakpoint-up(md) {
// 			min-height: $navbar-default-desktop-height;
// 		}
// 	}
// }

// .navbar-default .navbar-collapse:first-child,
// .navbar-default.navbar-collapse-absolute .navbar-collapse {
// 	@include media-breakpoint-down(sm) {
// 		background-color: darken($body-bg, 3%);
// 		border-color: darken($body-bg, 6.5%);
// 	}
// }

// .navbar-default {
// 	.navbar-toggle {
// 		color: $navbar-light-active-color;

// 		.icon-bar {
// 			background-color: #888;
// 		}
// 	}
// }

// .navbar-default.collapse-basic-search .basic-search {
// 	&.open {
// 		background-color: if(variable-exists(atlas-theme), transparent, darken($body-bg, 3%));
// 	}

// 	.btn-default {
// 		background-color: $navbar-default-collapsible-search-btn-default-bg;
// 		border-color: $navbar-default-collapsible-search-btn-default-border;
// 		color: $navbar-default-collapsible-search-btn-default-color;
// 	}

// 	.form-control {
// 		background-color: $navbar-default-collapsible-search-input-bg;
// 		border-color: $navbar-default-collapsible-search-input-border;
// 		color: $navbar-default-collapsible-search-input-color;

// 		&::placeholder {
// 			color: $navbar-default-collapsible-search-input-placeholder-color;
// 		}
// 	}
// }

// @if (variable-exists(atlas-theme)) {
// 	.navbar-default {
// 		.navbar-nav {
// 			> .active > a {
// 				&:after {
// 					@include media-breakpoint-up(md) {
// 						background-color: $navbar-light-active-highlight;

// 						@if not ($navbar-light-active-highlight == transparent) {
// 							content: '';
// 						}
// 					}
// 				}
// 			}
// 		}

// 		&.navbar-no-collapse .navbar-nav > .active > a:after,
// 		.navbar-toggle-page-name:after {
// 			background-color: $navbar-light-active-highlight;

// 			@if not ($navbar-light-active-highlight == transparent) {
// 				content: '';
// 			}
// 		}
// 	}

// 	.navbar-default .basic-search {
// 		&:after {
// 			background-color: $navbar-default-collapsible-search-highlight;
// 		}

// 		&.focus:after {
// 			background-color: $navbar-default-collapsible-search-focus-highlight;
// 		}
// 	}
// }

// Navbar Inverse

// .navbar-inverse {
// 	.navbar-collapse:first-child,
// 	&.navbar-collapse-absolute .navbar-collapse {
// 		@include media-breakpoint-down(sm) {
// 			background-color: $brand-inverse;
// 			border-color: darken($brand-inverse, 10%);
// 		}
// 	}

// 	.navbar-toggle {
// 		color: #fff;

// 		.icon-bar {
// 			background-color: #fff;
// 		}
// 	}
// }

// .navbar-inverse.collapse-basic-search .basic-search {
// 	&.open {
// 		background-color: if(variable-exists(atlas-theme), transparent, $brand-inverse);
// 	}

// 	.btn-default {
// 		background-color: $navbar-inverse-collapsible-search-btn-default-bg;
// 		border-color: $navbar-inverse-collapsible-search-btn-default-border;
// 		color: $navbar-inverse-collapsible-search-btn-default-color;
// 	}

// 	.form-control {
// 		background-color: $navbar-inverse-collapsible-search-input-bg;
// 		border-color: $navbar-inverse-collapsible-search-input-border;
// 		color: $navbar-inverse-collapsible-search-input-color;

// 		&::placeholder {
// 			color: $navbar-inverse-collapsible-search-input-placeholder-color;
// 		}
// 	}
// }

// @if (variable-exists(atlas-theme)) {
// 	.navbar-inverse {
// 		.navbar-nav {
// 			> .active > a {
// 				&:after {
// 					@include media-breakpoint-up(md) {
// 						background-color: $navbar-inverse-link-active-highlight;

// 						@if not ($navbar-inverse-link-active-highlight == transparent) {
// 							content: '';
// 						}
// 					}
// 				}
// 			}
// 		}

// 		&.navbar-no-collapse .navbar-nav > .active > a:after,
// 		.navbar-toggle-page-name:after {
// 			background-color: $navbar-inverse-link-active-highlight;

// 			@if not ($navbar-inverse-link-active-highlight == transparent) {
// 				content: '';
// 			}
// 		}
// 	}

// 	.navbar-inverse .basic-search {
// 		&:after {
// 			background-color: $navbar-inverse-collapsible-search-highlight;
// 		}

// 		&.focus:after {
// 			background-color: $navbar-inverse-collapsible-search-focus-highlight;
// 		}
// 	}
// }

// BS4

.navbar-toggler {
	height: $navbar-toggler-height;
	margin: $navbar-toggler-margin-y $navbar-toggler-margin-x;

	.lexicon-icon {
		margin-top: -1px;
	}
}

.navbar {
	border-color: transparent;

	@include border-radius($navbar-border-radius);

	border-style: solid;
	border-width: $navbar-border-width;
}

.navbar-brand {
	padding-left: $navbar-brand-padding-x;
	padding-right: $navbar-brand-padding-x;
}

.navbar-nav .nav-link {
	@if not ($navbar-link-padding-y == $nav-link-padding-y) {
		padding-bottom: $navbar-link-padding-y;
		padding-top: $navbar-link-padding-y;
	}

	@if not ($navbar-link-padding-x == 0.5rem) {
		padding-left: $navbar-link-padding-x;
		padding-right: $navbar-link-padding-x;

	}
}

.navbar-expand {
	@each $breakpoint in map-keys($grid-breakpoints) {
		$next: breakpoint-next($breakpoint, $grid-breakpoints);
		$infix: breakpoint-infix($next, $grid-breakpoints);

		&#{$infix} {
			@include media-breakpoint-up($next) {
				.navbar-brand {
					@if not ($navbar-brand-font-size-desktop == $navbar-brand-font-size) {
						font-size: $navbar-brand-font-size-desktop;
					}

					@if not ($navbar-brand-padding-y-desktop == $navbar-brand-padding-y) {
						padding-bottom: $navbar-brand-padding-y-desktop;
						padding-top: $navbar-brand-padding-y-desktop;
					}

					@if not ($navbar-brand-padding-x-desktop == $navbar-brand-padding-x) {
						padding-left: $navbar-brand-padding-x-desktop;
						padding-right: $navbar-brand-padding-x-desktop;
					}
				}

				.navbar-nav .nav-link {
					@if not ($navbar-link-padding-y-desktop == $nav-link-padding-y) {
						padding-bottom: $navbar-link-padding-y-desktop;
						padding-top: $navbar-link-padding-y-desktop;
					}

					@if not ($navbar-link-padding-x-desktop == 0.5rem) {
						padding-left: $navbar-link-padding-x-desktop;
						padding-right: $navbar-link-padding-x-desktop;
					}

					&.active:after {
						background-color: $navbar-active-highlight;
						bottom: -$navbar-border-bottom-width;

						@if not ($navbar-active-highlight == transparent) {
							content: '';
						}

						display: block;
						height: $navbar-active-border-bottom-width;
						left: $navbar-link-padding-x-desktop;
						position: absolute;
						right: $navbar-link-padding-x-desktop;
						width: auto;
					}
				}

				&.navbar-inverse-bg .navbar-nav .nav-link.active:after {
					background-color: $navbar-inverse-active-highlight;

					@if not ($navbar-inverse-active-highlight == transparent) {
						content: '';
					}
				}

				&.navbar-light-bg .navbar-nav .nav-link.active:after {
					background-color: $navbar-light-active-highlight;

					@if not ($navbar-light-active-highlight == transparent) {
						content: '';
					}
				}
			}
		}
	}
}

.navbar-light {
	.navbar-brand {
		@if not ($navbar-light-brand-color == $navbar-light-active-color) {
			color: $navbar-light-brand-color;
		}

		@include hover-focus {
			@if not ($navbar-light-brand-hover-color == $navbar-light-active-color) {
				color: $navbar-light-brand-hover-color;
			}
		}
	}
}

.navbar-light-bg {
	background-color: $navbar-light-bg;
	border-color: $navbar-light-border-color;

	.navbar-brand {
		background-color: $navbar-light-brand-bg;

		@include hover-focus {
			background-color: $navbar-light-brand-hover-bg;
		}
	}

	.nav-link {
		@include hover-focus {
			background-color: $navbar-light-hover-bg;
		}

		&.active,
		&[aria-expanded="true"] {
			background-color: $navbar-light-active-bg;
		}

		&.disabled {
			background-color: $navbar-light-disabled-bg;
		}
	}
}

.navbar-inverse {
	.navbar-brand {
		@if not ($navbar-inverse-brand-color == $navbar-inverse-active-color) {
			color: $navbar-light-brand-color;
		}

		@include hover-focus {
			@if not ($navbar-inverse-brand-hover-color == $navbar-inverse-active-color) {
				color: $navbar-light-brand-hover-color;
			}
		}
	}
}

.navbar-inverse-bg {
	background-color: $navbar-inverse-bg;
	border-color: $navbar-inverse-border-color;

	.navbar-brand {
		background-color: $navbar-inverse-brand-bg;

		@include hover-focus {
			background-color: $navbar-inverse-brand-hover-bg;
		}
	}

	.nav-link {
		@include hover-focus {
			background-color: $navbar-inverse-hover-bg;
		}

		&.active,
		&[aria-expanded="true"] {
			background-color: $navbar-inverse-active-bg;
		}

		&.disabled {
			background-color: $navbar-inverse-disabled-bg;
		}
	}
}